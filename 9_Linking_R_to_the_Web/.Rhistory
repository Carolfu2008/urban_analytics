library("rtweet")
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "Yrb99n6Uzb9xAhUGPiREhGVYj",
consumer_secret = "bWm6DTOzlUOfzJznOkR5njShz3bIgiqp6KMGVSjCTtQJm0PHlo"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "Yrb99n6Uzb9xAhUGPiREhGVYj",
consumer_secret = "bWm6DTOzlUOfzJznOkR5njShz3bIgiqp6KMGVSjCTtQJm0PHlo"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "Yrb99n6Uzb9xAhUGPiREhGVYj",
consumer_secret = "bWm6DTOzlUOfzJznOkR5njShz3bIgiqp6KMGVSjCTtQJm0PHlo"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "Yrb99n6Uzb9xAhUGPiREhGVYj",
consumer_secret = "bWm6DTOzlUOfzJznOkR5njShz3bIgiqp6KMGVSjCTtQJm0PHlo"))
save(my_tokens, file = "my_tokens_env") # If you close down R, you can load this in a new session using "load()"
BCO <- lookup_users('bouldercolorado')
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"))
save(my_tokens, file = "my_tokens_env") # If you close down R, you can load this in a new session using "load()"
followers_BCO <- get_followers("bouldercolorado", n = 'all')
BCO <- lookup_users('bouldercolorado', token = my_tokens)
followers_BCO <- get_followers("bouldercolorado", n = 'all',token = my_tokens)
followers_BCO <- get_followers("bouldercolorado", n = 'all',token = my_tokens)
# firstly we need to search for the user
BCO <- lookup_users('bouldercolorado', token = my_tokens)
# You can print all these details as follows
BCO
# Or, you can also print specific attributes
BCO$followers_count #shows the number of followers
followers_BCO <- get_followers("bouldercolorado", n = 'all',token = my_tokens)
followers_BCO_Details <- lookup_users(followers_BCO,token = my_tokens, parse = FALSE)
iris[sample(nrow(iris), 2), ]
followers_BCO[sample(nrow(followers_BCO), 2), ]
followers_BCO[sample(nrow(followers_BCO), 1000), ]
followers_BCO_sample <- followers_BCO[sample(nrow(followers_BCO), 1000), ] # Random Sample 1000
followers_BCO_Details <- lookup_users(followers_BCO_sample,token = my_tokens, parse = FALSE)
str(followers_BCO)
followers_BCO_sample <- data.frame(followers_BCO[sample(nrow(followers_BCO), 1000), ]) # Random Sample 1000
colnames(followers_BCO_sample) <- "ids"
followers_BCO_Details <- lookup_users(followers_BCO_sample,token = my_tokens, parse = FALSE)
View(followers_BCO)
View(followers_BCO_sample)
?lookup_users
followers_BCO_Details <- lookup_users(followers_BCO,token = my_tokens, parse = FALSE)
str(followers_BCO)
str(followers_BCO_sample)
followers_BCO_sample <- followers_BCO[sample(nrow(followers_BCO), 1000), ] # Random Sample 1000
followers_BCO_sample
followers_BCO_Details <- lookup_users(followers_BCO_sample,token = my_tokens, parse = FALSE)
followers_BCO_Details <- lookup_users(usr=followers_BCO_sample,token = my_tokens, parse = FALSE)
followers_BCO_Details <- lookup_users(paste(followers_BCO_sample),token = my_tokens, parse = FALSE)
?get_followers
attr(followers_BCO)
?attr
?get_followers
followers_BCO_sample <- followers_BCO[sample(nrow(followers_BCO), 1000), ] # Random Sample 1000
followers_BCO_sample <- data.frame(followers_BCO[sample(nrow(followers_BCO), 1000), ]) # Random Sample 1000
attr(followers_BCO_sample) <- attr(followers_BCO)
?sample
sample(followers_BCO, 1000)
followers_BCO_sample <- followers_BCO[sample(nrow(followers_BCO), 1000)] # Random Sample 1000
followers_BCO_sample <- followers_BCO[sample(nrow(followers_BCO), 1000),] # Random Sample 1000
?subset
nrow(followers_BCO)
1:nrow(followers_BCO)
sample(1:nrow(followers_BCO),10)
followers_BCO_sample <- subset(followers_BCO,sample(1:nrow(followers_BCO),1000))# Random Sample 1000
followers_BCO[1:10]
followers_BCO[1:10,]
random(1:1000)
sample(1:100,10)
sample(1:nrow(followers_BCO),10)
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),10),],token = my_tokens, parse = FALSE)
followers_BCO_Details
View(followers_BCO_Details)
colnames(followers_BCO_Details)
nrow(followers_BCO)
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),10000),],token = my_tokens, parse = FALSE)
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),10000),],token = my_tokens, parse = FALSE)
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),10),],token = my_tokens, parse = FALSE)
sample(1:nrow(followers_BCO),100)
sample(1:nrow(followers_BCO),1000)
sample(1:nrow(followers_BCO),10000)
sample(1:nrow(followers_BCO),10000?lookup_users)
?lookup_users
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),5000),],token = my_tokens, parse = FALSE)
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),500),],token = my_tokens, parse = FALSE)
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),100),],token = my_tokens, parse = FALSE)
lookup_users
lookup_users
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),1000),],token = my_tokens, parse = FALSE)
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"))
save(my_tokens, file = "my_tokens_env") # If you close down R, you can load this in a new session using "load()"
my_tokens
lookup_users
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),20000),],token = my_tokens, parse = FALSE)
View(followers_BCO_Details)
View(followers_BCO_Details)
head(followers_BCO_Details)
nrow(followers_BCO_Details)
str(followers_BCO_Details)
followers_BCO_Details$screen_name
followers_BCO_Details <- lookup_users(followers_BCO,token = my_tokens)
followers_BCO_Details <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),20000),],token = my_tokens)
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"))
save(my_tokens, file = "my_tokens_env") # If you close down R, you can load this in a new session using "load()"
followers_BCO_Details <- lookup_users(followers_BCO,token = my_tokens)
devtools::install_github("mkearney/rtweet")
devtools::install_github("mkearney/rtweet")
devtools::install_github("mkearney/rtweet")
install.packages("rtweet")
install.packages("rtweet")
devtools::install_github("mkearney/rtweet")
library("rtweet")
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"))
save(my_tokens, file = "my_tokens_env") # If you close down R, you can load this in a new session using "load()"
followers_BCO_Details <- lookup_users(followers_BCO,token = my_tokens)
View(followers_BCO_Details)
View(followers_BCO_Details)
lookup_users
nrow(followers_BCO)
nrow(followers_BCO)-18000
View(followers_BCO_Details)
colnames(followers_BCO_Details)
nrow(followers_BCO)
18001+18000
followers_BCO_Details_2 <- lookup_users(followers_BCO[18001:36001,],token = my_tokens)
followers_BCO_Details_2 <- lookup_users(followers_BCO[18001:36000,],token = my_tokens)
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"))
save(my_tokens, file = "my_tokens_env") # If you close down R, you can load this in a new session using "load()"
followers_BCO_Details_2 <- lookup_users(followers_BCO[18001:36000,],token = my_tokens)
lookup_users
followers_BCO_Details_2 <- lookup_users(followers_BCO[18001:36000,],token = my_tokens)
?create_token
get_tokens()
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book 2", #whatever you named your app
consumer_key = "TiLYdBa7xzD3bkCjJGKNQg",
consumer_secret = "c3toImz9zCHlkTQbdyHXvb5aOMFVq1B6Jm7rH1bk8hY"),
create_token(app = "Urban Analytics Book 3", #whatever you named your app
consumer_key = "ikblFNyOrW4kd9pyWnWnUTtY5",
consumer_secret = "ky8FOVcKhyIB7mGiMWnpCZSVEgHb3eQUSA2jkLa1QEdQkU7Nd6"))
save(my_tokens, file = "my_tokens_env") # If you close down R, you can load this in a new session using "load()"
followers_BCO_Details_2 <- lookup_users(followers_BCO[18001:36000,],token = my_tokens)
getCurRateLimitInfo()
followers_BCO[18001:36000,]
followers_BCO_Details_2 <- lookup_users(followers_BCO[18001:36000,],token = my_tokens)
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book 2", #whatever you named your app
consumer_key = "TiLYdBa7xzD3bkCjJGKNQg",
consumer_secret = "c3toImz9zCHlkTQbdyHXvb5aOMFVq1B6Jm7rH1bk8hY"),
create_token(app = "Urban Analytics Book 3", #whatever you named your app
consumer_key = "ikblFNyOrW4kd9pyWnWnUTtY5",
consumer_secret = "ky8FOVcKhyIB7mGiMWnpCZSVEgHb3eQUSA2jkLa1QEdQkU7Nd6"),
create_token(app = "Urban Analytics Book 4", #whatever you named your app
consumer_key = "rIeFN86KtbJVaflYXPFQ2C0QY",
consumer_secret = "0eMTAbm6zYc9BLsPbi9nQm877oQrS2fVY5EOrQVxx8qtJWd2uG"))
save.image("~/Dropbox/Urban Analyitics/Materials/Practicals/9. Linking R to the Web/data/Twitter_Data.Rdata")
load("~/Dropbox/Urban Analyitics/Materials/Practicals/9. Linking R to the Web/data/Twitter_Data.Rdata")
library(jsonlite)
library("rtweet")
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book 2", #whatever you named your app
consumer_key = "TiLYdBa7xzD3bkCjJGKNQg",
consumer_secret = "c3toImz9zCHlkTQbdyHXvb5aOMFVq1B6Jm7rH1bk8hY"),
create_token(app = "Urban Analytics Book 3", #whatever you named your app
consumer_key = "ikblFNyOrW4kd9pyWnWnUTtY5",
consumer_secret = "ky8FOVcKhyIB7mGiMWnpCZSVEgHb3eQUSA2jkLa1QEdQkU7Nd6"),
create_token(app = "Urban Analytics Book 4", #whatever you named your app
consumer_key = "rIeFN86KtbJVaflYXPFQ2C0QY",
consumer_secret = "0eMTAbm6zYc9BLsPbi9nQm877oQrS2fVY5EOrQVxx8qtJWd2uG"))
my_tokens <- c(create_token(app = "Urban Analytics Book", #whatever you named your app
consumer_key = "bgvV7sDVc1kMdl8FZH71vmZW7",
consumer_secret = "g5DKoKuZGNDEXJuLBgxlsZOmy7SyM4B91WN93PKoLApW2Ar9aX"),
create_token(app = "Urban Analytics Book 2", #whatever you named your app
consumer_key = "TiLYdBa7xzD3bkCjJGKNQg",
consumer_secret = "c3toImz9zCHlkTQbdyHXvb5aOMFVq1B6Jm7rH1bk8hY"),
create_token(app = "Urban Analytics Book 3", #whatever you named your app
consumer_key = "ikblFNyOrW4kd9pyWnWnUTtY5",
consumer_secret = "ky8FOVcKhyIB7mGiMWnpCZSVEgHb3eQUSA2jkLa1QEdQkU7Nd6"),
create_token(app = "Urban Analytics Book 4", #whatever you named your app
consumer_key = "rIeFN86KtbJVaflYXPFQ2C0QY",
consumer_secret = "0eMTAbm6zYc9BLsPbi9nQm877oQrS2fVY5EOrQVxx8qtJWd2uG"))
save(my_tokens, file = "my_tokens_env") # If you close down R, you can load this in a new session using "load()"
followers_BCO_Details_2 <- lookup_users(followers_BCO[18001:36000,],token = my_tokens)
save.image("~/Dropbox/Urban Analyitics/Materials/Practicals/9. Linking R to the Web/data/Twitter_Data.RData")
followers_BCO_Details_3 <- lookup_users(followers_BCO[36001:nrow(followers_BCO),],token = my_tokens)
nrow(followers_BCO)
nrow(followers_BCO)-36001
my_tokens
followers_BCO_Details_Sample <- lookup_users(followers_BCO[sample(1:nrow(followers_BCO),1000),],token = my_tokens)
my_tokens[[3]]
my_tokens[[4]]
followers_BCO_Details_3 <- lookup_users(followers_BCO[36001:nrow(followers_BCO),],token = my_tokens)
head(followers_BCO_Details)
head(followers_BCO_Details)
head(followers_BCO_Details)
head(followers_BCO_Details)
View(followers_BCO_Details)
table(followers_BCO_Details$geo_enabled)
?table
table(followers_BCO_Details$geo_enabled)[1]
?table
table(followers_BCO_Details$geo_enabled)[1]/nrow(followers_BCO_Details)
table(followers_BCO_Details$geo_enabled)[2]/nrow(followers_BCO_Details)
table(followers_BCO_Details$geo_enabled)[2]/nrow(followers_BCO_Details)*100
followers_BCO_Details_GEO <-followers_BCO_Details[isTRUE(followers_BCO_Details$geo_enabled),]
followers_BCO_Details_GEO <-followers_BCO_Details[followers_BCO_Details$geo_enabled == "TRUE",]
View(followers_BCO_Details_GEO)
head(followers_BCO_Details_GEO)
head(followers_BCO_Details_GEO)
table(is.na(followers_BCO_Details_GEO$location))
followers_BCO_Details_3 <- lookup_users(followers_BCO[36001:46000,],token = my_tokens)
followers_BCO_Details_4 <- lookup_users(followers_BCO[46001:nrow(followers_BCO),],token = my_tokens)
save.image("~/Dropbox/Urban Analyitics/Materials/Practicals/9. Linking R to the Web/data/Twitter_Data.RData")
install.packages("ggmap")
library(ggmap)
followers_BCO_Details_All <- rbind(followers_BCO_Details,followers_BCO_Details_2,followers_BCO_Details_3,followers_BCO_Details_4)
save(followers_BCO_Details_All,"followers_BCO_Details_All.Rdata")
?save
save(followers_BCO_Details_All,file="./data/followers_BCO_Details_All.Rdata")
load("./data/followers_BCO_Details_All.Rdata")
table(followers_BCO_Details_All$geo_enabled)[2]/nrow(followers_BCO_Details_All) * 100
table(followers_BCO_Details_All$geo_enabled)
table(followers_BCO_Details_All$geo_enabled)[2]/nrow(followers_BCO_Details_All) * 100
table(followers_BCO_Details_All$geo_enabled)[2]
as.numeric(table(followers_BCO_Details_All$geo_enabled)[2])
as.numeric(table(followers_BCO_Details_All$geo_enabled)[2])/nrow(followers_BCO_Details_All) * 100
round(as.numeric(table(followers_BCO_Details_All$geo_enabled)[2])/nrow(followers_BCO_Details_All) * 100)
View(followers_BCO_Details_All)
table(is.na(followers_BCO_Details_All$location))
table(!is.na(followers_BCO_Details_All$location))
View(followers_BCO_Details_All)
nrow(followers_BCO_Details_All[!is.na(followers_BCO_Details_All$location),])/nrow(followers_BCO_Details_All) * 100
followers_BCO_Details_GEO <-followers_BCO_Details_All[!is.na(followers_BCO_Details_All$location),]
(head(followers_BCO_Details_GEO))
nrow(followers_BCO_Details_GEO)
U_Locations <- unique(followers_BCO_Details_GEO$location)
U_Locations
U_Locations <- unique(followers_BCO_Details_GEO$location)
U_Locations_Geocode <- geocode(U_Locations,output="latlon",source="dsk")
U_Locations_Geocode <- geocode(U_Locations,output="latlon",source="dsk",override_limit=TRUE)
geocode
U_Locations_Geocode <- geocode(U_Locations[1:2500],output="latlon",source="dsk",override_limit=TRUE)
devtools::install_github("hrbrmstr/nominatim")
U_Locations_Geocode <- osm_geocode(U_Locations)
library(nominatim)
U_Locations_Geocode <- osm_geocode(U_Locations)
?osm_geocode
U_Locations_Geocode <- osm_geocode(U_Locations)
osm_geocode
U_Locations_Geocode <- osm_geocode(U_Locations,key = "xAGcPKCyqZbk3GRqU3phGDBUGx0qc8rg")
sample(1:nrow(followers_BCO),1000)
U_Locations[sample(1:length(U_Locations),2500)]
library(ggmap)
U_Locations_Geocode <- geocode(U_Locations[sample(1:length(U_Locations),2500)],output="latlon",source="google")
head(U_Locations_Geocode)
sample <- U_Locations[sample(1:length(U_Locations),2500)]
sample
table(followers_BCO_Details_GEO$location)
View(followers_BCO_Details_GEO$location)
View(table(followers_BCO_Details_GEO$location))
Locations <- table(followers_BCO_Details_GEO$location)
Locations
Locations <- data.frame(table(followers_BCO_Details_GEO$location))
View(Locations)
Locations <- data.frame(table(followers_BCO_Details_GEO$location))[order(frq),]
Locations <- Locations[order(Locations$Freq),]
View(Locations)
Locations <- Locations[order(-Locations$Freq),]
View(Locations)
Locations[Locations$Freq > 1,]
nrow(Locations[Locations$Freq > 1,])
nrow(Locations[Locations$Freq > 1,])
nrow(Locations[Locations$Freq > 1,]) - 2500
sample(1:length(U_Locations),2500)
A <- Locations[Locations$Freq > 1,]
B <- U_Locations[Locations$Freq == 1,]
B <- Locations[Locations$Freq == 1,]
B <- Locations[Locations$Freq == 1,][sample(1:length(B),1349),]
B <- Locations[Locations$Freq == 1,][sample(1:nrow(B),1349),]
rm(B)
B <- Locations[Locations$Freq == 1,][sample(1:nrow(B),1349),]
2500-(nrow(A)
)
B <- Locations[Locations$Freq == 1,][sample(1:2500-(nrow(A)),2500-(nrow(A)),]
B <- Locations[Locations$Freq == 1,][sample(1:2500-(nrow(A)),2500-(nrow(A))),]
B <- Locations[Locations$Freq == 1,][sample(1:2500-(nrow(A)),2500-nrow(A)),]
B <- Locations[Locations$Freq == 1,][sample(1:2500-(nrow(A)),(2500-nrow(A))),]
(2500-nrow(A))
B <- Locations[Locations$Freq == 1,][sample(1:2500-(nrow(A)),1349),]
B <- Locations[Locations$Freq == 1,][sample(1:2500-(nrow(A)),1349),]
B <- Locations[Locations$Freq == 1,]
B <- B[sample(1:nrow(B)),1349]
sample(1:nrow(B)),1349)
sample(1:nrow(B),1349)
B <- Locations[Locations$Freq == 1,]
B <- B[sample(1:nrow(B)),1349)]
B <- B[sample(1:nrow(B),1349)]
B <- B[sample(1:nrow(B),1349),]
B <- Locations[Locations$Freq == 1,]
B <- B[sample(1:nrow(B),(2500 - nrow(A))),]
C <- rbind(A,B)
head(C)
C <- rbind(A,B)[,"Var1"]
C
U_Locations_Geocode <- geocode(sample_locations,output="latlon",source="google")
sample_locations <- rbind(A,B)[,"Var1"]
U_Locations_Geocode <- geocode(sample_locations,output="latlon",source="google")
sample_locations <- as.character(rbind(A,B)[,"Var1"])
sample_locations
U_Locations_Geocode <- geocode(sample_locations,output="latlon",source="google")
?geocode
geocode("liverpool")
U_Locations_Geocode <- geocode(sample_locations,output="latlon",source="google")
U_Locations_Geocode <- geocode(sample_locations,output="latlon",source="google")
